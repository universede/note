# rebuild

#### 重构代码
  &emsp;重构代码的第一个步骤，即<font color=#7086DE>拥有一组可靠地测试</font>。

  * 分离函数	
     &emsp;<font color=#77FFDF>**提炼函数、内联变量、搬移函数、以多态取代条件表达式**</font>
     &emsp;对于**过长**的函数，<font color=#7098ED>分离函数中不同的关注点</font>，使其成为一个独立的函数。
     &emsp;<font color=#708EDE>提炼函数</font>，每一次把一块代码抽取成一个函数的过程。
     &emsp;<font color=#7080FD>移除局部变量</font>，使传参的个数变得更少，减少局部作用于，提高代码的阅读性。
   
  * 重构的原则
  * 坏代码
     -  神秘的命名
     -  重复的代码
     -  过长函数
     -  过长参数列表
     -  全局数据
     -  可变数据
     -  发散式变化
     -  䉈弹式修改
     -  依赖情结
     -  数据泥团
     - 基本类型偏执
     -  重复的switch
     -  循环语句
     -  冗赘的元素
        &emsp;
     - 夸夸其谈通用性
       &emsp;如果有并非真正需要、只是为不知远在何处的将来而塞进去的参数，应该用改变函数声明去掉。
     - 临时字段
        &emsp;内部某一个字段仅为某种特定情况而设
     - 过长的消息链
        &emsp;用户向一个对象请求另一个对象，另一个对象有访问其他的对象的过程
     - 中间人
        &emsp;委托人
     - 内部交易
        &emsp;反感模块间的大量交换数据
     - 过大的类
        &emsp;观察类中的重复代码，进行提炼
     - 异曲同工的类
        &emsp;对于现在的类，未来可以替换成其他类，只要其中的接口及其相关的保持一致，如果代码重复，可以提炼超类来解决
     - 纯数据类
        &emsp;拥有一些字段，以及用于访问这些字段的函数，除此之外没有其他的。
     - 被拒绝的遗赠
        &emsp;
     - 注释
        &emsp;一定程度上并不是怀味道，但注释应该用于合适的地方，如函数需要做什么；标记并无十足把握的领域；帮助未来的修改者

   * 构筑测试体系
     <font color=#7070DF>测试驱动开发</font>