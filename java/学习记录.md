# 学习记录

## 软件架构^[https://developer.aliyun.com/article/930304] 
* laas
基础设施即服务
概念：需要帮助客户搭建好运行服务的基础设施，就是在线下筹备机房或机器，组成环境运行能够提供服务的项目并部署该项目提供服务。
举例：举例说就是我要在提供服务之前给客户那边搭建好线下的运行环境，比如在高校的校园中选择一个房间作为机房，在准备电脑进行组网，将项目运行在搭建好的机器上面就可以进行服务的访问。

* paas 
平台即服务
概念：利用云端搭建好操作系统或软件层面的如数据库、中间件等供用户使用，使得用户无需关注底层的基础设施和运行环境，只需要利用这些环境运行自己的应用和数据。
举例：就好比学校要使用我的就业管理系统进行管理，但是不想自己搭建机房和环境，所以就直接本地用少量的机器搭建客户端，将数据库、中间件或部分接口放在云端，请求时直接请求云端的接口和数据。

* saas
软件即服务
概念：即云端已经将操作系统到运行环境到软件的客户端都已经搭建好了，使用方不需要安装任何环境或软件，只需要访问客户端就能直接使用、
举例：类似于在我的毕业生管理系统上，我先自己利用云端搭建好平台，然后如果有学校想要使用的话直接分配给他们一些账号和密码，他们就可以直接访问我搭建好的系统进行操作了。

## 分布式架构、微服务架构(MSA)
* 分布式
将一个大型的系统拆分成多个独立的子系统，这些子系统分布在不同的服务器或节点上，通过网络进行通信和协作，以完成整个系统的功能。
* 微服务
 将一个大型的应用拆分成多个小型的、独立的服务，每个服务都可以独立部署、扩展和维护。

## 分布式
### 由来
1. 单体项目
一个模块对应一个数据库中的多张表
采用本地**@Transactiona**即可解决
2. 分布式项目1
多个模块对应一个数据库中的多个表
采用消息中间件即可解决
3. 分布式项目2
多个模块对应多个数据库中的多个表
采用消息中间件和Seata都可，偷懒使用Seata，自己实现可以使用消息中间件
注：seata是开源的分布式事务解决方案，力于提供高性能和简单易用的分布式事务服务。为用户提供了AT、TCC、SAGA 和 XA 事务模式，为用户打造一站式的分布式解决方案。

### 分布式事务^[https://segmentfault.com/a/1190000040321750#item-2-5]
事务属性：原子性、一致性、隔离性、持久性，即ACID
不同的服务之间通过网络协调完成的事务（由于数据库资源分布在不同的服务器上，可能由不同的事务管理器管理）。
解决方案：
1. 两阶段提交(2PC)/XA、三阶段提交(3PC)
2. Sage
3. TCC
Try - Confirm - Cancel
4. 本地消息表
5. 事务消息
如rocketmq
6. 最大努力通知
7. AT事务模式

### 分布式锁^[https://www.cnblogs.com/liuqingzheng/p/11080501.html]
是一种机制，用于在分布式系统中保证多个进程或线程在访问共享资源时不会发生冲突，从而保证数据的一致性和系统的稳定性。
实现方式：
1. 基于数据库的分布式锁
如mysql，利用数据库的唯一约束或行锁定机制实现。
2. 基于缓存的分布式锁
利用缓存系统(如redis)来实现原子操作
3. 基于ZooKeeper的分布式锁
利用ZooKeeper的临时顺序节点和监听机制来实现

## 中间件
### MongoDB^[https://www.runoob.com/mongodb/mongodb-tutorial.html]
开源**文档型数据库**,类似JSON 的文档模型存储数据
基于文档的 NoSQL 数据库
旨在为 WEB 应用提供可扩展的高性能数据存储解决方案
介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。

### Elasticsearch^[https://elasticsearch.bookhub.tech/intro/]
* 概念
1. 是分布式搜索和分析引擎
2. 分布式文档存储(相当于数据库)
* 应用领域
1. 全文检索
2. 应用查询
3. 大数据领域
4. 日志检索
5. 监控领域
6. 机器学习

### MongoDB与Elasticsearch作为存储的区别
相同：
都有文档存储的功能
不同：
Elasticsearch更多是基于**查询搜索**的分析型数据库，MongoDB 定位于事务型应用层面 OLTP(在线事务处理)^[https://developer.aliyun.com/article/770889]

### ZooKeeper^[https://zookeeper.net.cn/] ^[https://zookeeper.net.cn/doc/r3.9.2/zookeeperOver.html]
分布式、开源协调服务。主要用于分布式应用程序。

### Mysql
#### 存储引擎
1. MyISAM
不支持事务，行级锁和外键约束
2. MyISAM Merge
把相同的MyISAM合并成一张虚表，主要用于日志和数据仓库
3. InnoDB
4. Memory
把数据存放内存中，主用于临时表中
5. archive
 只支持select 和 insert语句，而且不支持索引。常应用于日志记录和聚合分析方面

### redis^[https://www.redis.net.cn/]
内存存储的数据结构服务器，可用于数据库、高速缓存和消息队列代理。

### ShardingSphere^[https://shardingsphere.apache.org/document/legacy/4.x/document/cn/overview/]
是一套开源的分布式数据库中间件解决方案组成的生态圈，它由Sharding-JDBC、Sharding-Proxy和Sharding-Sidecar（计划中）这3款相互独立的产品组成。
均提供标准化的数据分片、分布式事务和数据库治理功能，可适用于如Java同构、异构语言、云原生等各种多样化的应用场景。

### Memcached
是一个分布式内存对象缓存系统


## 多线程

## Spring
### spring、springmvc、springboot、springcloud^[https://cloud.tencent.com/developer/article/1516989]
* spring
是java企业级应用开发框架，包含了IOC、AOP、事务等
* springmvc
是spring框架中的一个模块，主要用于构建web应用
* springboot
是spring框架对springmvc进行的一个封装，旨在快速构建web开发流程
* springcloud
是一个工具包，旨在管理与协调各个服务

### IOC、DI、AOP

### SpringCloud事务
#### 声明式事务管理
使用@Transactional 注解
#### 分布式事务
* 使用场景
1. 多个模块操作同一个数据库中的多张表
2. 多各模块操作多个数据库中的多张表

## 参考文献